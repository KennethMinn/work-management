import{o as u,d as x,u as d,j as t,B as c,_ as l,r as m,F as k,s as h}from"./index-CyrJaVhS.js";import{A as g,D as f}from"./AlertModal-Cc2abRNZ.js";import{u as T,a as j}from"./axiosInstance-DEpY0Rne.js";import{b as C,I as w}from"./index-C6klRg22.js";import{B as y}from"./Badge-DSvPY5vm.js";import{I as D}from"./IconEdit-CEWE5dIW.js";import{c as E}from"./TaskEditForm-RjgJOcM8.js";import"./Button-BujI3Ifw.js";import"./useGetAllCustomers-_5r13SHP.js";import"./useGetAllProjects-Bg5aOIDr.js";import"./useGetAllEmployees-BkbF_HCU.js";import"./ActionIcon-YQuf4CzX.js";import"./TimeInput-Dl4Y387P.js";import"./Select-CS1L0Eoo.js";import"./useGetAllShootingCategories-C_d3UDbk.js";import"./TextInput-YpIo0TZ0.js";import"./IconCloudUpload-CyqNUEqq.js";import"./IconPlus-CFDQgyHZ.js";import"./InputsGroupFieldset-Ca6bcpST.js";import"./Stack-DS0nP4Lh.js";/**
 * @license @tabler/icons-react v3.3.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var v=u("outline","arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]);const I=()=>{const o=x();return T({mutationFn:async s=>await j.delete(`/assigned-tasks/delete/${s}`),onSuccess:()=>{o.invalidateQueries(["tasks"])}})},S=({id:o})=>{const s=d(),[r,{open:n,close:a}]=C(!1),{mutate:i,isPending:e}=I(),p=()=>{i(o,{onSuccess:()=>{a(),s("/dashboard"),l.success("Task deleted successfully.")},onError:()=>{l.error("Something went wrong")}})};return t.jsxs(c,{children:[t.jsx(g,{isLoading:e,title:"Task Delete",description:"This action cannot be undone.",opened:r,close:a,onConfirm:p}),t.jsx(w,{onClick:n,style:{color:"#ef233c",cursor:"pointer"}})]})},L=()=>{const[o,s]=m.useState(!1),[r,n]=m.useState(null),a=e=>{n(e),s(!0)};return{taskColumns:[{name:"Id",selector:e=>e.id,width:"100px"},{name:"Title",selector:e=>e.title,width:"200px"},{name:"Customer",selector:e=>e.customer.name,width:"120px"},{name:"Employee",selector:e=>e.user.name,width:"120px"},{name:"Start Date",selector:e=>e.start_date,width:"130px"},{name:"End Date",selector:e=>e.end_date,width:"130px"},{name:"Start Time",selector:e=>e.start_time,width:"100px"},{name:"End Time",selector:e=>e.end_time,width:"100px"},{name:"Status",width:"130px",cell:e=>t.jsx(y,{color:e.status==="pending"?"red":e.status==="inProgress"?"yellow":"blue",h:25,children:e.status})},{name:"Actions",cell:e=>t.jsxs(k,{align:"center",gap:20,children:[t.jsx(D,{onClick:()=>a(e),style:{color:"#4361ee",cursor:"pointer"}}),t.jsx(S,{id:e.id})]})}],task:r,open:o,setOpen:s}},_=()=>{const o=d(),{state:s}=h(),{taskColumns:r,task:n,open:a,setOpen:i}=L();return t.jsxs(c,{children:[t.jsx(c,{onClick:()=>o(-1),style:{cursor:"pointer"},children:t.jsx(v,{})}),t.jsx(f,{columns:r,data:s}),a&&n&&t.jsx(E,{assignedTask:n,close:()=>i(!1),opened:a})]})},X=()=>t.jsx(_,{});export{X as default};
