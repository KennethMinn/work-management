import{j as e,w as K,i as Q,H as de,y as be,k as se,J as Xe,K as Se,M as Ye,m as re,A as W,x as es,U as ss,D as me,E as Ce,B as N,N as _e,C as X,O as Re,d as pe,r as q,P as ue,F as h,T as w,G as Y,_ as O}from"./index-Ce39H2-j.js";import{A as rs,D as ns}from"./AlertModal-w0BD0JH6.js";import{z as v,u as os,b as he,a as Ee,t as Pe,M as Ie,C as L,I as ts}from"./index-CLtWpDKR.js";import{u as ke}from"./useGetAllDepartments-BjOXsjV1.js";import{u as Ue}from"./useGetAllCompanies-DxsMWMiA.js";import{u as ze}from"./useGetAllPositions-FDSOyGCP.js";import{I as ee,b as is,c as Ae,u as ge,a as ne}from"./axiosInstance-D1VA4u8v.js";import{S as Fe}from"./Stack-U2nrZ_Xm.js";import{F as De,I as Le}from"./IconCloudUpload-BDEpmpnU.js";import{B as G}from"./Button-CS9XABgu.js";import{T as M}from"./TextInput-Cb9jIFpZ.js";import{A as as}from"./ActionIcon-PUm9FGeR.js";import{I as ls,g as qe,a as cs}from"./InputsGroupFieldset-BK5NAQnh.js";import{S as $}from"./Select-C1XSqP1T.js";import{I as ds}from"./IconEdit-1nsQIAM8.js";import{u as ms}from"./useGetAllEmployees-EZqrDGrD.js";import{I as ps}from"./IconPlus-0jt243K-.js";const us=({reveal:n})=>e.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:e.jsx("path",{d:n?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var ce={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const hs={visibilityToggleIcon:us},gs=re((n,{size:s})=>({root:{"--psi-icon-size":W(s,"psi-icon-size"),"--psi-button-size":W(s,"psi-button-size")}})),oe=K((n,s)=>{const o=Q("PasswordInput",hs,n),{classNames:m,className:t,style:f,styles:p,unstyled:a,vars:S,required:_,error:C,leftSection:R,disabled:g,id:P,variant:x,inputContainer:I,description:U,label:k,size:c,errorProps:d,descriptionProps:j,labelProps:z,withAsterisk:F,inputWrapperOrder:y,wrapperProps:b,radius:i,rightSection:l,rightSectionWidth:r,rightSectionPointerEvents:u,leftSectionWidth:E,visible:V,defaultVisible:B,onVisibilityChange:H,visibilityToggleIcon:J,visibilityToggleButtonProps:A,rightSectionProps:Te,leftSectionProps:Oe,leftSectionPointerEvents:We,mod:Be,...Ze}=o,te=de(P),[ie,Ke]=be({value:V,defaultValue:B,finalValue:!1,onChange:H}),fe=()=>Ke(!ie),ae=se({name:"PasswordInput",classes:ce,props:o,className:t,style:f,classNames:m,styles:p,unstyled:a,vars:S,varsResolver:gs}),{resolvedClassNames:le,resolvedStyles:we}=Xe({classNames:m,styles:p,props:o}),{styleProps:Qe,rest:ve}=Se(Ze),He=J,Je=e.jsx(as,{...ae("visibilityToggle"),disabled:g,radius:i,"aria-hidden":!A,tabIndex:-1,...A,variant:"subtle",color:"gray",unstyled:a,onMouseDown:T=>{var Z;T.preventDefault(),(Z=A==null?void 0:A.onMouseDown)==null||Z.call(A,T),fe()},onKeyDown:T=>{var Z;(Z=A==null?void 0:A.onKeyDown)==null||Z.call(A,T),T.key===" "&&(T.preventDefault(),fe())},children:e.jsx(He,{reveal:ie})});return e.jsx(ee.Wrapper,{required:_,id:te,label:k,error:C,description:U,size:c,classNames:le,styles:we,__staticSelector:"PasswordInput",errorProps:d,descriptionProps:j,unstyled:a,withAsterisk:F,inputWrapperOrder:y,inputContainer:I,variant:x,labelProps:{...z,htmlFor:te},mod:Be,...ae("root"),...Qe,...b,children:e.jsx(ee,{component:"div",error:C,leftSection:R,size:c,classNames:{...le,input:Ye(ce.input,le.input)},styles:we,radius:i,disabled:g,__staticSelector:"PasswordInput",rightSectionWidth:r,rightSection:l??Je,variant:x,unstyled:a,leftSectionWidth:E,rightSectionPointerEvents:u||"all",rightSectionProps:Te,leftSectionProps:Oe,leftSectionPointerEvents:We,withAria:!1,children:e.jsx("input",{required:_,"data-invalid":!!C||void 0,"data-with-left-section":!!R||void 0,...ae("innerInput"),disabled:g,id:te,ref:s,...ve,autoComplete:ve.autoComplete||"off",type:ie?"text":"password"})})})});oe.classes={...is.classes,...ce};oe.displayName="@mantine/core/PasswordInput";const[xs,Ge]=Ae(),[js,ys]=Ae();var Ne={card:"m_9dc8ae12"};const fs={withBorder:!0},ws=re((n,{radius:s})=>({card:{"--card-radius":me(s)}})),xe=K((n,s)=>{const o=Q("RadioCard",fs,n),{classNames:m,className:t,style:f,styles:p,unstyled:a,vars:S,checked:_,mod:C,withBorder:R,value:g,onClick:P,name:x,onKeyDown:I,...U}=o,k=se({name:"RadioCard",classes:Ne,props:o,className:t,style:f,classNames:m,styles:p,unstyled:a,vars:S,varsResolver:ws,rootSelector:"card"}),{dir:c}=es(),d=Ge(),j=typeof _=="boolean"?_:(d==null?void 0:d.value)===g||!1,z=x||(d==null?void 0:d.name),F=y=>{if(I==null||I(y),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(y.nativeEvent.code)){y.preventDefault();const b=Array.from(document.querySelectorAll(`[role="radio"][name="${z||"__mantine"}"]`)),i=b.findIndex(u=>u===y.target),l=i+1>=b.length?0:i+1,r=i-1<0?b.length-1:i-1;y.nativeEvent.code==="ArrowDown"&&(b[l].focus(),b[l].click()),y.nativeEvent.code==="ArrowUp"&&(b[r].focus(),b[r].click()),y.nativeEvent.code==="ArrowLeft"&&(b[c==="ltr"?r:l].focus(),b[c==="ltr"?r:l].click()),y.nativeEvent.code==="ArrowRight"&&(b[c==="ltr"?l:r].focus(),b[c==="ltr"?l:r].click())}};return e.jsx(js,{value:{checked:j},children:e.jsx(ss,{ref:s,mod:[{"with-border":R,checked:j},C],...k("card"),...U,role:"radio","aria-checked":j,name:z,onClick:y=>{P==null||P(y),d==null||d.onChange(g||"")},onKeyDown:F})})});xe.displayName="@mantine/core/RadioCard";xe.classes=Ne;const vs={},je=K((n,s)=>{const{value:o,defaultValue:m,onChange:t,size:f,wrapperProps:p,children:a,name:S,readOnly:_,...C}=Q("RadioGroup",vs,n),R=de(S),[g,P]=be({value:o,defaultValue:m,finalValue:"",onChange:t}),x=I=>!_&&P(typeof I=="string"?I:I.currentTarget.value);return e.jsx(xs,{value:{value:g,onChange:x,size:f,name:R},children:e.jsx(ee.Wrapper,{size:f,ref:s,...p,...C,labelElement:"div",__staticSelector:"RadioGroup",children:e.jsx(ls,{role:"radiogroup",children:a})})})});je.classes=ee.Wrapper.classes;je.displayName="@mantine/core/RadioGroup";function Me({size:n,style:s,...o}){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:Ce(n),height:Ce(n),...s},"aria-hidden":!0,...o,children:e.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var $e={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const Cs={icon:Me},bs=re((n,{radius:s,color:o,size:m,iconColor:t,variant:f,autoContrast:p})=>{const a=_e({color:o||n.primaryColor,theme:n}),S=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":W(m,"radio-size"),"--radio-radius":s===void 0?void 0:me(s),"--radio-color":f==="outline"?S:X(o,n),"--radio-icon-size":W(m,"radio-icon-size"),"--radio-icon-color":t?X(t,n):qe(p,n)?Re({color:o,theme:n,autoContrast:p}):void 0}}}),ye=K((n,s)=>{const o=Q("RadioIndicator",Cs,n),{classNames:m,className:t,style:f,styles:p,unstyled:a,vars:S,icon:_,radius:C,color:R,iconColor:g,autoContrast:P,checked:x,mod:I,variant:U,disabled:k,...c}=o,d=_,j=se({name:"RadioIndicator",classes:$e,props:o,className:t,style:f,classNames:m,styles:p,unstyled:a,vars:S,varsResolver:bs,rootSelector:"indicator"}),z=ys(),F=typeof x=="boolean"?x:(z==null?void 0:z.checked)||!1;return e.jsx(N,{ref:s,...j("indicator",{variant:U}),variant:U,mod:[{checked:F,disabled:k},I],...c,children:e.jsx(d,{...j("icon")})})});ye.displayName="@mantine/core/RadioIndicator";ye.classes=$e;var Ve={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const Ss={labelPosition:"right"},_s=re((n,{size:s,radius:o,color:m,iconColor:t,variant:f,autoContrast:p})=>{const a=_e({color:m||n.primaryColor,theme:n}),S=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":W(s,"radio-size"),"--radio-radius":o===void 0?void 0:me(o),"--radio-color":f==="outline"?S:X(m,n),"--radio-icon-color":t?X(t,n):qe(p,n)?Re({color:m,theme:n,autoContrast:p}):void 0,"--radio-icon-size":W(s,"radio-icon-size")}}}),D=K((n,s)=>{const o=Q("Radio",Ss,n),{classNames:m,className:t,style:f,styles:p,unstyled:a,vars:S,id:_,size:C,label:R,labelPosition:g,description:P,error:x,radius:I,color:U,variant:k,disabled:c,wrapperProps:d,icon:j=Me,rootRef:z,iconColor:F,onChange:y,mod:b,...i}=o,l=se({name:"Radio",classes:Ve,props:o,className:t,style:f,classNames:m,styles:p,unstyled:a,vars:S,varsResolver:_s}),r=Ge(),u=(r==null?void 0:r.size)??C,E=o.size?C:u,{styleProps:V,rest:B}=Se(i),H=de(_),J=r?{checked:r.value===B.value,name:B.name??r.name,onChange:A=>{r.onChange(A),y==null||y(A)}}:{};return e.jsx(cs,{...l("root"),__staticSelector:"Radio",__stylesApiProps:o,id:H,size:E,labelPosition:g,label:R,description:P,error:x,disabled:c,classNames:m,styles:p,unstyled:a,"data-checked":J.checked||void 0,variant:k,ref:z,mod:b,...V,...d,children:e.jsxs(N,{...l("inner"),mod:{"label-position":g},children:[e.jsx(N,{...l("radio",{focusable:!0,variant:k}),onChange:y,...B,...J,component:"input",mod:{error:!!x},ref:s,id:H,disabled:c,type:"radio"}),e.jsx(j,{...l("icon"),"aria-hidden":!0})]})})});D.classes=Ve;D.displayName="@mantine/core/Radio";D.Group=je;D.Card=xe;D.Indicator=ye;const Rs=v.object({name:v.string().min(1,"name is required"),email:v.string().email("invalid email"),password:v.string().min(6,"password must be at least 6 characters"),phone:v.string().min(1,"phone is required"),nrc_number:v.string().min(1,"nrc is required"),gender:v.string().min(1,"gender is required"),role:v.string().min(1,"role is required"),company_id:v.string().min(1,"department is required"),department_id:v.string().min(1,"position is required"),position_id:v.string().min(1,"position is required")}),Es=v.object({name:v.string().min(1,"name is required"),email:v.string().email("invalid email"),password:v.string().optional(),phone:v.string().min(1,"phone is required"),nrc_number:v.string().min(1,"nrc is required"),gender:v.string().min(1,"gender is required"),role:v.string().min(1,"role is required"),company_id:v.string().min(1,"department is required"),department_id:v.string().min(1,"position is required"),position_id:v.string().min(1,"position is required")}),Ps=n=>{const s=pe();return ge({mutationFn:async o=>{await ne.post(`/employees-update/${n}`,o)},onSuccess:()=>{s.invalidateQueries(["employees"])}})},Is=n=>os({queryKey:["employee",n],queryFn:async()=>await(await ne.get(`/employees/${n}`)).data.employee,enabled:!!n}),ks=({id:n})=>{var F,y,b,i,l;const[s,{open:o,close:m}]=he(!1),{data:t}=Is(n),{mutate:f,isPending:p}=Ps(n),{data:a}=ke(),{data:S}=Ue(),{data:_}=ze(),[C,R]=q.useState(null),[g,P]=q.useState(null),x=q.useRef(null),I=()=>{var r;P(null),(r=x.current)==null||r.call(x)},{register:U,handleSubmit:k,control:c,setValue:d,formState:{errors:j}}=Ee({resolver:Pe(Es),defaultValues:{gender:"Male"}}),z=r=>{const u={...r,photo_path:g},E=new FormData;for(const V in u)E.append(V,u[V]);f(E,{onSuccess:()=>{m(),P(null),O.success("Employee Updated Successfully.")},onError:()=>{O.error("Something went wrong.")}})};return q.useEffect(()=>{if(g){const r=URL.createObjectURL(g);return R(r),()=>URL.revokeObjectURL(r)}else t!=null&&t.imgURL?R(t.imgURL):R(null)},[g,t==null?void 0:t.imgURL]),q.useEffect(()=>{var r,u,E;t&&(R(t.imgURL||null),d("name",t.name),d("email",t.email),d("phone",t.phone),d("nrc_number",t.nrc_number),d("gender",t.gender),d("role",t.role),d("company_id",(r=t.company_id)==null?void 0:r.toString()),d("department_id",(u=t.department_id)==null?void 0:u.toString()),d("position_id",(E=t.position_id)==null?void 0:E.toString()))},[t,d]),e.jsxs(N,{children:[e.jsx(Ie,{size:650,padding:30,opened:s,onClose:m,title:"Edit Employee Form",centered:!0,styles:{title:{fontSize:"20px",fontWeight:600}},children:e.jsx(N,{my:10,children:e.jsxs("form",{onSubmit:k(z),children:[e.jsxs(Fe,{gap:20,children:[C&&e.jsx(ue,{mb:30,src:C,w:150,h:150,radius:"100%",alt:"avatar"}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Profile"}),e.jsxs(Y,{style:{width:"100%"},children:[e.jsx(De,{resetRef:x,onChange:P,accept:"image/png,image/jpeg",children:r=>e.jsx(G,{leftSection:e.jsx(Le,{}),...r,children:"Upload image"})}),e.jsx(G,{disabled:!g,color:"red",onClick:I,children:"Reset"})]})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Name"}),e.jsx(M,{style:{width:"100%"},placeholder:"Enter employee name",...U("name"),error:(F=j.name)==null?void 0:F.message})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Email"}),e.jsx(M,{style:{width:"100%"},placeholder:"Enter email",...U("email"),error:(y=j.email)==null?void 0:y.message})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Password"}),e.jsx(oe,{style:{width:"100%"},placeholder:"Enter password",...U("password"),error:(b=j.password)==null?void 0:b.message})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"phone"}),e.jsx(M,{style:{width:"100%"},placeholder:"Enter phone",...U("phone"),error:(i=j.phone)==null?void 0:i.message})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"nrc number"}),e.jsx(M,{style:{width:"100%"},placeholder:"Enter nrc number",...U("nrc_number"),error:(l=j.nrc_number)==null?void 0:l.message})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Gender"}),e.jsx(L,{name:"gender",control:c,render:({field:r})=>e.jsx(D.Group,{...r,style:{width:"100%"},children:e.jsxs(Y,{children:[e.jsx(D,{value:"male",label:"Male"}),e.jsx(D,{value:"female",label:"Female"})]})})})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Role"}),e.jsx(L,{name:"role",control:c,render:({field:r})=>{var u;return e.jsx($,{style:{width:"100%"},placeholder:"Pick role",data:["admin","employee"],...r,error:(u=j.role)==null?void 0:u.message})}})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Company"}),e.jsx(L,{name:"company_id",control:c,render:({field:r})=>{var u;return e.jsx($,{style:{width:"100%"},placeholder:"Pick company",data:S==null?void 0:S.map(E=>({label:E.name,value:E.id.toString()})),...r,error:(u=j.company_id)==null?void 0:u.message})}})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Department"}),e.jsx(L,{name:"department_id",control:c,render:({field:r})=>{var u;return e.jsx($,{style:{width:"100%"},placeholder:"Pick department",data:a==null?void 0:a.map(E=>({label:E.name,value:E.id.toString()})),...r,error:(u=j.department_id)==null?void 0:u.message})}})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Position"}),e.jsx(L,{name:"position_id",control:c,render:({field:r})=>{var u;return e.jsx($,{style:{width:"100%"},placeholder:"Pick position",data:_==null?void 0:_.map(E=>({label:E.name,value:E.id.toString()})),...r,error:(u=j.position_id)==null?void 0:u.message})}})]})]}),e.jsxs(h,{justify:"end",gap:15,mt:20,children:[e.jsx(G,{radius:4,size:"sm",onClick:m,color:"dark",children:"Cancel"}),e.jsx(G,{type:"submit",radius:4,size:"sm",loading:p,disabled:p,color:"blue",children:"Update"})]})]})})}),e.jsx(ds,{onClick:o,style:{color:"#4361ee",cursor:"pointer"}})]})},Us=()=>{const n=pe();return ge({mutationFn:async s=>await ne.delete(`/employees-delete/${s}`),onSuccess:()=>{n.invalidateQueries(["employees "])}})},zs=({id:n})=>{const[s,{open:o,close:m}]=he(!1),{mutate:t,isPending:f}=Us(),p=()=>{t(n,{onSuccess:()=>{m(),O.success("Employee deleted successfully.")}})};return e.jsxs(N,{children:[e.jsx(rs,{isLoading:f,title:"Employee Delete",description:"This action cannot be undone.",opened:s,close:m,onConfirm:p}),e.jsx(ts,{onClick:o,style:{color:"#ef233c",cursor:"pointer"}})]})},As=()=>[{name:"Id",selector:s=>s.id,width:"100px"},{name:"Avatar",cell:s=>e.jsx(ue,{src:s.imgURL}),width:"100px"},{name:"Name",selector:s=>s.name??"-",width:"160px"},{name:"Gender",selector:s=>s.gender??"-"},{name:"Email",selector:s=>s.email??"-"},{name:"Phone",selector:s=>s.phone??"-"},{name:"Position",selector:s=>{var o;return((o=s==null?void 0:s.position)==null?void 0:o.name)??"-"}},{name:"Role",selector:s=>s.role??"-"},{name:"Actions",cell:s=>e.jsxs(h,{align:"center",gap:20,children:[e.jsx(ks,{id:s.id}),e.jsx(zs,{id:s.id})]})}],Fs=()=>{const n=pe();return ge({mutationFn:async s=>{await ne.post("/employee-create",s)},onSuccess:()=>{n.invalidateQueries(["employees"])}})},Ds=()=>{var j,z,F,y,b;const[n,{open:s,close:o}]=he(!1),{mutate:m,isPending:t}=Fs(),{data:f}=ke(),{data:p}=Ue(),{data:a}=ze(),[S,_]=q.useState(null),[C,R]=q.useState(null),g=q.useRef(null),P=()=>{var i;R(null),(i=g.current)==null||i.call(g)},{register:x,handleSubmit:I,reset:U,control:k,formState:{errors:c}}=Ee({resolver:Pe(Rs),defaultValues:{gender:"Male"}});q.useEffect(()=>{if(C){const i=URL.createObjectURL(C);return _(i),()=>URL.revokeObjectURL(i)}else _(null)},[C]);const d=i=>{if(!C){O.error("Please Add profile");return}const l={...i,photo_path:C},r=new FormData;for(const u in l)r.append(u,l[u]);m(r,{onSuccess:()=>{U(),o(),R(null),O.success("Employee Created Successfully.")},onError:()=>{O.error("Something went wrong.")}})};return e.jsxs(N,{children:[e.jsx(Ie,{size:650,padding:30,opened:n,onClose:o,title:"Create Employee Form",centered:!0,styles:{title:{fontSize:"20px",fontWeight:600}},children:e.jsx(N,{my:10,children:e.jsxs("form",{onSubmit:I(d),children:[e.jsxs(Fe,{gap:20,children:[S&&e.jsx(ue,{mb:30,src:S,w:150,h:150,radius:"100%",alt:"avatar"}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Profile"}),e.jsxs(Y,{style:{width:"100%"},children:[e.jsx(De,{resetRef:g,onChange:R,accept:"image/png,image/jpeg",children:i=>e.jsx(G,{leftSection:e.jsx(Le,{}),...i,children:"Upload image"})}),e.jsx(G,{disabled:!C,color:"red",onClick:P,children:"Reset"})]})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Name"}),e.jsx(M,{style:{width:"100%"},placeholder:"Enter employee name",...x("name"),error:(j=c.name)==null?void 0:j.message})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Email"}),e.jsx(M,{style:{width:"100%"},placeholder:"Enter email",...x("email"),error:(z=c.email)==null?void 0:z.message})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Password"}),e.jsx(oe,{style:{width:"100%"},placeholder:"Enter password",...x("password"),error:(F=c.password)==null?void 0:F.message})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"phone"}),e.jsx(M,{style:{width:"100%"},placeholder:"Enter phone",...x("phone"),error:(y=c.phone)==null?void 0:y.message})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"nrc number"}),e.jsx(M,{style:{width:"100%"},placeholder:"Enter nrc number",...x("nrc_number"),error:(b=c.nrc_number)==null?void 0:b.message})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Gender"}),e.jsx(L,{name:"gender",control:k,render:({field:i})=>e.jsx(D.Group,{...i,style:{width:"100%"},children:e.jsxs(Y,{children:[e.jsx(D,{value:"Male",label:"Male"}),e.jsx(D,{value:"Female",label:"Female"})]})})})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Role"}),e.jsx(L,{name:"role",control:k,render:({field:i})=>{var l;return e.jsx($,{style:{width:"100%"},placeholder:"Pick role",data:["admin","employee"],...i,error:(l=c.role)==null?void 0:l.message})}})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Company"}),e.jsx(L,{name:"company_id",control:k,render:({field:i})=>{var l;return e.jsx($,{style:{width:"100%"},placeholder:"Pick company",data:p==null?void 0:p.map(r=>({label:r.name,value:r.id.toString()})),...i,error:(l=c.company_id)==null?void 0:l.message})}})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Department"}),e.jsx(L,{name:"department_id",control:k,render:({field:i})=>{var l;return e.jsx($,{style:{width:"100%"},placeholder:"Pick department",data:f==null?void 0:f.map(r=>({label:r.name,value:r.id.toString()})),...i,error:(l=c.department_id)==null?void 0:l.message})}})]}),e.jsxs(h,{align:"center",gap:"lg",children:[e.jsx(w,{w:130,fw:500,children:"Position"}),e.jsx(L,{name:"position_id",control:k,render:({field:i})=>{var l;return e.jsx($,{style:{width:"100%"},placeholder:"Pick position",data:a==null?void 0:a.map(r=>({label:r.name,value:r.id.toString()})),...i,error:(l=c.position_id)==null?void 0:l.message})}})]})]}),e.jsxs(h,{justify:"end",gap:15,mt:20,children:[e.jsx(G,{radius:4,size:"sm",onClick:o,color:"dark",children:"Cancel"}),e.jsx(G,{type:"submit",radius:4,size:"sm",loading:t,disabled:t,color:"blue",children:"Create"})]})]})})}),e.jsx(h,{justify:"end",children:e.jsx(G,{onClick:s,leftSection:e.jsx(ps,{size:16}),children:"Create"})})]})},Ls=()=>{const n=As(),{data:s,isLoading:o}=ms();return e.jsxs(N,{children:[e.jsx(Ds,{}),o?e.jsx("div",{children:"table"}):e.jsx(ns,{columns:n,data:s})]})},er=()=>e.jsx(Ls,{});export{er as default};
